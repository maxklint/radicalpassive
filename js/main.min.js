"use strict";function main(){initGallery(),initNews(),document.body.hasAttribute("is-home")&&initHome()}function Gallery(e){if(this.mini=document.body.querySelector("#"+e.miniId),this.maxi=document.body.querySelector("#"+e.maxiId),this.miniCounter=document.body.querySelector("#"+e.miniCounterId),this.maxiCounter=document.body.querySelector("#"+e.maxiCounterId),this.fullsize=e.fullsize?e.fullsize.split(","):null,this.thumbs=e.thumbs?e.thumbs.split(","):null,this.thumbs2x=e.thumbs2x?e.thumbs2x.split(","):null,this.maxAspect=e.maxAspect,this.maxHeight=e.maxHeight,this.fullscreen=e.fullscreen,this.index=0,this.size=this.fullsize.length,e.interval&&setInterval(this.showNext.bind(this),e.interval),document.body.onresize=this.resize.bind(this),this.resize(),e.keyboardControl){var t=this;document.addEventListener("keydown",function(e){e.key==="ArrowLeft"&&t.showPrev(),e.key==="ArrowRight"&&t.showNext(),e.key==="Escape"&&t.collapse()})}}Gallery.prototype.resize=function(){if(!this.mini||!this.maxAspect||this.maxAspect<=1||!this.maxHeight)return;var e=this.mini.parentElement.clientWidth,t=this.maxHeight*this.maxAspect,n=e/t,s=Math.round(this.maxHeight*n);this.mini.style.height=s+"px"},Gallery.prototype.show=function(e){this.index=e,this.fullscreen?(this.maxi.setAttribute("src",this.fullsize[e]),this.maxiCounter&&(this.maxiCounter.innerHTML=""+(e+1)+"/"+this.size)):(this.mini.setAttribute("src",this.thumbs[e]),this.mini.setAttribute("srcset",this.thumbs[e]+" 1x, "+this.thumbs2x[e]+" 2x"),this.miniCounter&&(this.miniCounter.innerHTML=""+(e+1)+"/"+this.size))},Gallery.prototype.showNext=function(){this.show((this.index+1)%this.size)},Gallery.prototype.showPrev=function(){this.show(this.index>0?this.index-1:this.size-1)},Gallery.prototype.expand=function(){this.fullscreen||(this.fullscreen=!0,toggleClass(document.body.querySelector(".fullscreen"),"nodisplay"),toggleClass(document.body.querySelector("header"),"nodisplay"),toggleClass(document.body.querySelector(".content"),"nodisplay"),this.show(this.index))},Gallery.prototype.collapse=function(){this.fullscreen&&(this.fullscreen=!1,toggleClass(document.body.querySelector(".fullscreen"),"nodisplay"),toggleClass(document.body.querySelector("header"),"nodisplay"),toggleClass(document.body.querySelector(".content"),"nodisplay"),this.show(this.index))};function initHome(){var e=document.body.querySelector(".menu"),t=document.body.querySelector(".fullscreen"),n=document.body.querySelector(".logo__link");toggleClass(e,"nodisplay"),window.onclick=function(){toggleClass(e,"nodisplay"),toggleClass(t,"nodisplay")},n.onclick=function(e){e.preventDefault()},e.onclick=function(e){e.stopPropagation()}}function initNews(){var e,t=document.body.querySelectorAll(".news__link");function n(e){t.forEach(function(t){var n=t.parentElement;t===e?toggleClass(n,"news__listitem_open"):n.classList.remove("news__listitem_open")})}e=document.body.querySelector("a[href='"+window.location.hash+"']"),e&&n(e),t.forEach(function(e){e.onclick=function(t){n(e),t.preventDefault()}})}function initGallery(){window.gallery&&window.gallery.show(0)}function toggleClass(e,t){var n=e.classList;n.contains(t)?n.remove(t):n.add(t)}function createElement(e,t,n,s){var o,i,a=document.createElement(e);t&&(a.className=t);for(o in n){if(!o)continue;if(n.hasOwnProperty(o)){if(i=n[o],!i)continue;a.setAttribute(o,i)}}for(o in s){if(!o)continue;if(s.hasOwnProperty(o)){if(i=s[o],!i)continue;a.style[o]=i}}return a}